/* -*- ld-script -*- */

/* Memory layout:
 * - at the beginning, set of bootstrap values resides ("registers")
 * - Then, data and code
 */

/* Part of the source is raw binary. */
INPUT(simple.o)
TARGET(binary)
INPUT(data.bin)
INPUT(code.bin)
TARGET(elf32-i386)
OUTPUT_FORMAT(elf32-i386)
OUTPUT(simple)

ENTRY(_start);

PHDRS
{
  all PT_LOAD;
}

SECTIONS
{
 . = 0x20000;
 . = . + SIZEOF_HEADERS;
 .text : { simple.o(.text) code.bin(.data) data.bin(.text)} : all
 .heap : { simple.o(.bss) } : all
			     
/DISCARD/ : {*(.iplt .eh_frame .rel.dyn .igot.plt .comment .debug_*)}
}
